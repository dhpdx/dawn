{% schema %}
{
  "name": "Custom Subscribe Button",
  "settings": [
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Subscribe"
    },
    {
      "type": "select",
      "id": "button_placement",
      "label": "Button Placement",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    }
  ]
}
{% endschema %}

{% capture formId %}CustomImageSubscribeForm-{{ section.id }}{% endcapture %}

<section class="custom-image-subscribe" style="background-image: url('{{ section.settings.background_image | img_url: 'master' }}');">
  <div class="custom-image-subscribe__container">
    <form id="{{ formId }}" class="custom-image-subscribe__form" action="/contact#contact_form" method="post">
      <input type="hidden" name="form_type" value="customer" />
      <input type="hidden" name="utf8" value="âœ“" />

      <div class="custom-image-subscribe__input-group">
        <input class="custom-image-subscribe__input" type="email" name="contact[email]" placeholder="Enter your email" required />
        <button class="custom-image-subscribe__submit {{ section.settings.button_placement }}" type="submit">{{ section.settings.button_text }}</button>
      </div>
    </form>
  </div>
</section>

<style>
  .custom-image-subscribe {
    background-size: cover;
    background-position: center;
    padding: 2rem;
    text-align: center;
  }

  .custom-image-subscribe__container {
    max-width: 600px;
    margin: 0 auto;
  }

  .custom-image-subscribe__input-group {
    display: flex;
    justify-content: center;
  }

  .custom-image-subscribe__input {
    padding: 0.5rem;
    border: none;
    border-radius: 4px 0 0 4px;
    width: 60%;
    font-size: 1rem;
  }

  .custom-image-subscribe__submit {
    padding: 0.5rem;
    background-color: #333;
    color: #fff;
    border: none;
    border-radius: 0 4px 4px 0;
    cursor: pointer;
    font-size: 1rem;
    margin-left: -4px;
  }

  .custom-image-subscribe__submit.left {
    float: left;
  }

  .custom-image-subscribe__submit.center {
    float: none;
  }

  .custom-image-subscribe__submit.right {
    float: right;
  }

  .custom-image-subscribe__submit:hover {
    background-color: #555;
  }
</style>
